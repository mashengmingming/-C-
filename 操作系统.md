# 计算机系统的组成

计算机系统：包括硬件子系统和软件子系统

- 硬件：CPU，主存储器，I/O控制系统，外围设备
- 软件：系统软件，支持软件



硬件的组成：

- 中央处理器：
  - 运算单元
  - 控制单元
- 主存储器
- 外围设备
  - 输出设备
  - 输入设备
  - 存储设备
- 总线



# 计算机系统硬件组成



## 存储程序计算机，冯 诺伊曼计算机模型：

- 以运算单元为中心，控制流由指令流产生
- 采取存储程序原理，面向主存组织数据流
- 主存是按地址访问，线性编址的空间
- 指令由操作码和地址码组成
- 数据以二进制进行编码

![image-20221229105052907](https://gitee.com/Vamye/picture/raw/ms//image-20221229105052907.png)

## 总线及其组成

- 总线是计算机各种功能部件之间传送信息的公共通信干线，它是CPU，内存，输入输出设备传递信息的公用通道
- 计算机的各个部件通过总线相连接，外围设备通过相应的接口电路再与总线相连接
- 按照所传输的信息种类，总线包括一组控制线，一组数据线和一组地址线

**内部总线**：用于CPU芯片内部连接各元件

**系统总线：**用于连接CPU，存储器和各种I/O模块等重要部件

![image-20221229105908489](https://gitee.com/Vamye/picture/raw/ms//image-20221229105908489.png)

**通信总线**：用于计算机系统之间通信

## 中央处理器(CPU)

中央处理器是计算机运算核心(Core)和控制单元(Control Unit)，主要包括：

- 运算逻辑部件：一个或多个运算器
- 寄存器部件：包括通用寄存器，控制与状态寄存器，以及高速缓存(Cache)
- 控制部件：
  - 实现各部件之间的联系的数据，控制及状态的内部总线
  - 负责对指令译码，发出为完成每条指令所要执行操作的控制信号，实现数据传输等功能的部件

![image-20221229110718144](https://gitee.com/Vamye/picture/raw/ms//image-20221229110718144.png)

## 存储器的组织层次

![image-20221229110758496](https://gitee.com/Vamye/picture/raw/ms//image-20221229110758496.png)

## 外围设备

> 设备类型
>
> - 输入设备
> - 输出设备
> - 存储设备
> - 机机通信设备



**设备控制方式**：

- 轮询方式：CPU忙式控制，CPU执行内存数据交换
- 中断控制：CPU启动外设，外设中断CPU，CPU执行内存数据交换
- DMA方式：CPU启动DMA，DMA执行输入输出与内存数据交换，DMA中断CPU

# 计算机系统软件组成

## 系统软件

> 操作系统
>
> 实用程序
>
> 语言处理程序
>
> 数据库管理系统



**操作系统**：实施对各种软硬件资源的管理控制

**实用程序**：方便用户所设，包括文本编辑等

**语言处理程序**：把用汇编语言/高级语言编写的程序，翻译成exe

**数据库管理系统**：

## 支撑软件

> 接口软件
>
> 工具软件
>
> 环境数据库
>
> 支持用户使用计算机的环境
>
> 提供开发工具

- 也可以认为式系统软件的一部分

## 应用软件

用户按照自己需要安装编写的程序



## 程序的执行过程



![image-20221229111916148](https://gitee.com/Vamye/picture/raw/ms//image-20221229111916148.png)

![image-20221229112008062](https://gitee.com/Vamye/picture/raw/ms//image-20221229112008062.png)

# 操作系统的概念

操作系统(Operating System)，简称OS，管理计算机软硬件资源的系统程序集合

**操作系统的组成：**

- 进程调度子系统
- 进程通信子系统
- 内存管理子系统
- 设备管理子系统
- 文件管理子系统
- 网络通信子系统
- 作业控制子系统

**操作系统的类型：**

- 操作控制方式看：
  - 多道批处理操作系统，采用脱机控制方式
  - 分时操作系统，采用交互控制方式
  - 实时操作系统
- 应用领域
  - 服务器操作系统，并行操作系统
  - 网络操作系统，分布式操作系统
  - 个人机操作系统，手机操作系统
  - 嵌入式操作系统，传感器操作系统

## 管理资源

- 处理器资源
- 内存资源
- 设备资源
- 信息资源
- 信号量资源

1. 屏蔽资源使用的底层信息

2. 资源的共享，分配方式

   - 资源共享方式：独占，并发

   - 分配策略：静态分配方式，动态分配方式，资源抢占方式

## 程序控制

**多道程序**



**多道程序同时计算**

- CPU速度与I/O速度不匹配的矛盾，非常突出
- 只有让多道程序同时进入内存抢夺CPU运行，才能使CPU和外围设备充分并行，提高计算机系统的使用效率

**多道程序设计：指让多个程序同时进入计算机的主存储器进行计算**

多道程序设计的特点：

- CPU与外部设备充分并行
- 外部设备之间充分并行
- 发挥CPU的使用效率
- 单位时间的算题量提高

**如何实现多道程序系统？**

- 为进入内存执行的程序建立管理实体：
  - 进程
- OS应该能管理和控制进程程序的执行
- OS协调管理各类资源在进程间的使用
  - 处理器的管理和调度
  - 主存储器的管理和调度
  - 其他资源的管理和调度



![image-20221230123054381](https://gitee.com/Vamye/picture/raw/ms//image-20221230123054381.png)





## 操作系统的控制方式

- 脱机作业控制方式
- 联机作业控制方式



# 第二章：处理器管理

## 处理器与寄存器

![image-20221231115518396](https://gitee.com/Vamye/picture/raw/ms//image-20221231115518396.png)

## 指令和处理器模式

**机器指令**

- 机器指令是计算机系统执行的基本命令，是中央处理器执行的基本单位
- 指令由一个或多个字节组成，包括操作码字段、一个或多个操作数地址字段、以及一些表征机器状态的状态字以及特征码
- 指令完成各种算术逻辑运算、数据传输、控制流跳转

**指令执行周期**

![image-20221231120426719](https://gitee.com/Vamye/picture/raw/ms//image-20221231120426719.png)